
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An embodied AI agent for Reachy Mini robot powered by Claude Agent SDK">
      
      
      
        <link rel="canonical" href="https://jawhnycooke.github.io/claude-in-the-shell/planning/PRD/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Product Requirements Document: Reachy Mini Embodied AI Agent - Reachy Agent Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#product-requirements-document-reachy-mini-embodied-ai-agent" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Reachy Agent Documentation" class="md-header__button md-logo" aria-label="Reachy Agent Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Reachy Agent Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Product Requirements Document: Reachy Mini Embodied AI Agent
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jawhnycooke/claude-in-the-shell" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jawhnycooke/claude-in-the-shell
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/getting-started/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../architecture/overview/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/agent/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/voice-pipeline-setup/" class="md-tabs__link">
          
  
  
  Guides

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Reachy Agent Documentation" class="md-nav__button md-logo" aria-label="Reachy Agent Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Reachy Agent Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jawhnycooke/claude-in-the-shell" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jawhnycooke/claude-in-the-shell
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/voice-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Voice Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/personas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persona System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/agent-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ReachyAgentLoop Deep Dive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/daemon-compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Daemon Compatibility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diagrams/README.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Diagrams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/voice-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Voice Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sdk-motion-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SDK Motion Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/mcp-servers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Servers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/motion-blending/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Motion Blending
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Permissions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/simulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Simulation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/mcp-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/voice-pipeline-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Voice Pipeline Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/raspberry-pi-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Raspberry Pi Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/phase2-preparation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Phase 2 Preparation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Executive Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Executive Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vision" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vision
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#value-proposition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Value Proposition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique-differentiation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unique Differentiation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-problem-statement" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Problem Statement
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Problem Statement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#current-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Current State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opportunity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opportunity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-outcome" class="md-nav__link">
    <span class="md-ellipsis">
      
        Target Outcome
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-goals-success-criteria" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Goals &amp; Success Criteria
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Goals &amp; Success Criteria">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-goals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Primary Goals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secondary-goals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secondary Goals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-goals-explicitly-out-of-scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        Non-Goals (Explicitly Out of Scope)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-target-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Target Users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Target Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-persona-the-ai-curious-developer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Primary Persona: The AI-Curious Developer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secondary-persona-the-content-creator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secondary Persona: The Content Creator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tertiary-persona-the-researchereducator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tertiary Persona: The Researcher/Educator
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-product-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Product Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Product Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-context-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Context Diagram
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Components
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-technical-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Technical Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Technical Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-hardware-platform" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Hardware Platform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-software-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Software Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-mcp-server-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 MCP Server Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-permission-tiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 Permission Tiers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-attention-state-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 Attention State Machine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-feature-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Feature Requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Feature Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-p0-must-have-mvp" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 P0: Must Have (MVP)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1 P0: Must Have (MVP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f1-claude-agent-sdk-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        F1: Claude Agent SDK Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f2-reachy-mcp-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        F2: Reachy MCP Server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f3-wake-word-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        F3: Wake Word Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f4-basic-permission-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        F4: Basic Permission System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f5-graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      
        F5: Graceful Degradation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f6-privacy-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        F6: Privacy Indicators
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-p1-should-have-v10" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 P1: Should Have (v1.0)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 P1: Should Have (v1.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f7-memory-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        F7: Memory System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f8-spatial-audio-awareness" class="md-nav__link">
    <span class="md-ellipsis">
      
        F8: Spatial Audio Awareness
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f9-imu-interaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        F9: IMU Interaction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f10-antenna-expression-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        F10: Antenna Expression Language
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f11-setup-wizard" class="md-nav__link">
    <span class="md-ellipsis">
      
        F11: Setup Wizard
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-p2-nice-to-have-v20" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 P2: Nice to Have (v2.0)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 P2: Nice to Have (v2.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f12-offline-fallback-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        F12: Offline Fallback Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f13-web-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        F13: Web Dashboard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f14-personality-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      
        F14: Personality Persistence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f15-external-mcp-integrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        F15: External MCP Integrations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-p3-future-v30" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 P3: Future (v3.0+)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4 P3: Future (v3.0+)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f16-multi-agent-coordination" class="md-nav__link">
    <span class="md-ellipsis">
      
        F16: Multi-Agent Coordination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f17-lerobot-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        F17: LeRobot Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f18-community-behavior-registry" class="md-nav__link">
    <span class="md-ellipsis">
      
        F18: Community Behavior Registry
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-non-functional-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Non-Functional Requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Non-Functional Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Reliability
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-privacy" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Privacy
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-implementation-phases" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Implementation Phases
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Implementation Phases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-foundation-weeks-1-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 1: Foundation (Weeks 1-4)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-hardware-integration-weeks-5-8" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 2: Hardware Integration (Weeks 5-8)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-intelligence-layer-weeks-9-12" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 3: Intelligence Layer (Weeks 9-12)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-polish-extensibility-weeks-13-16" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 4: Polish &amp; Extensibility (Weeks 13-16)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-content-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Content Strategy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Content Strategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-blog-series-jawhnycookeai" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.1 Blog Series (jawhnycooke.ai)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-youtube-content" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.2 YouTube Content
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103-content-calendar" class="md-nav__link">
    <span class="md-ellipsis">
      
        10.3 Content Calendar
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-risks-mitigations" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Risks &amp; Mitigations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        12. References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-core-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.1 Core Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-claude-agent-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.2 Claude Agent SDK
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-mcp-model-context-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.3 MCP (Model Context Protocol)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-audio-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.4 Audio Processing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-vision-ml" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.5 Vision &amp; ML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-raspberry-pi" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.6 Raspberry Pi
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#127-related-projects" class="md-nav__link">
    <span class="md-ellipsis">
      
        12.7 Related Projects
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-claudemd-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix A: CLAUDE.md Template
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-b-directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix B: Directory Structure
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="product-requirements-document-reachy-mini-embodied-ai-agent">Product Requirements Document: Reachy Mini Embodied AI Agent<a class="headerlink" href="#product-requirements-document-reachy-mini-embodied-ai-agent" title="Permanent link">&para;</a></h1>
<p><strong>Project Name:</strong> Reachy Agent<br />
<strong>Author:</strong> Jawhny Cooke<br />
<strong>Version:</strong> 1.0<br />
<strong>Last Updated:</strong> December 2024<br />
<strong>Status:</strong> Planning</p>
<hr />
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-executive-summary">Executive Summary</a></li>
<li><a href="#2-problem-statement">Problem Statement</a></li>
<li><a href="#3-goals--success-criteria">Goals &amp; Success Criteria</a></li>
<li><a href="#4-target-users">Target Users</a></li>
<li><a href="#5-product-overview">Product Overview</a></li>
<li><a href="#6-technical-architecture">Technical Architecture</a></li>
<li><a href="#7-feature-requirements">Feature Requirements</a></li>
<li><a href="#8-non-functional-requirements">Non-Functional Requirements</a></li>
<li><a href="#9-implementation-phases">Implementation Phases</a></li>
<li><a href="#10-content-strategy">Content Strategy</a></li>
<li><a href="#11-risks--mitigations">Risks &amp; Mitigations</a></li>
<li><a href="#12-references">References</a></li>
</ol>
<hr />
<h2 id="1-executive-summary">1. Executive Summary<a class="headerlink" href="#1-executive-summary" title="Permanent link">&para;</a></h2>
<h3 id="vision">Vision<a class="headerlink" href="#vision" title="Permanent link">&para;</a></h3>
<p>Transform Reachy Mini from a programmable desktop robot into an autonomous AI agent with physical presence. By installing the Claude Agent SDK directly on Reachy's Raspberry Pi 4, the robot becomes a Claude agent that can perceive its environment, make decisions, and interact with both the physical and digital world through Model Context Protocol (MCP) servers.</p>
<h3 id="value-proposition">Value Proposition<a class="headerlink" href="#value-proposition" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>For developers:</strong> An open-source reference implementation of embodied AI that bridges cloud intelligence with physical robotics</li>
<li><strong>For the community:</strong> Educational content documenting the journey from unboxing to autonomous agent</li>
<li><strong>For the ecosystem:</strong> A demonstration of Claude Agent SDK + MCP capabilities in a novel form factor</li>
</ul>
<h3 id="unique-differentiation">Unique Differentiation<a class="headerlink" href="#unique-differentiation" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Competitor</th>
<th>Limitation</th>
<th>Reachy Agent Advantage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Anki Vector</td>
<td>Closed ecosystem, discontinued</td>
<td>Open source, actively developed</td>
</tr>
<tr>
<td>Amazon Astro</td>
<td>Home robot, consumer-focused</td>
<td>Desktop form factor, developer-first</td>
</tr>
<tr>
<td>EMO Robot</td>
<td>Scripted behaviors</td>
<td>Real AI decision-making</td>
</tr>
<tr>
<td>DIY chatbots</td>
<td>No physical presence</td>
<td>Embodied with expressions, gestures, spatial awareness</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2-problem-statement">2. Problem Statement<a class="headerlink" href="#2-problem-statement" title="Permanent link">&para;</a></h2>
<h3 id="current-state">Current State<a class="headerlink" href="#current-state" title="Permanent link">&para;</a></h3>
<p>Desktop robots exist. AI assistants exist. But the intersection—an open-source, developer-friendly desktop robot powered by frontier AI models—remains underexplored. Existing solutions are either:</p>
<ol>
<li><strong>Closed ecosystems</strong> (Vector, Jibo) that died when companies pivoted</li>
<li><strong>Consumer products</strong> (Astro) not designed for developer extensibility</li>
<li><strong>Toy-grade</strong> (EMO) with scripted rather than intelligent behaviors</li>
<li><strong>Disembodied</strong> (Claude, GPT) lacking physical presence and world interaction</li>
</ol>
<h3 id="opportunity">Opportunity<a class="headerlink" href="#opportunity" title="Permanent link">&para;</a></h3>
<p>Reachy Mini, created by Pollen Robotics and Hugging Face, provides the hardware foundation. The Claude Agent SDK provides the intelligence layer. MCP provides the extensibility framework. The opportunity is to connect these pieces into a cohesive, documented, reproducible system that others can learn from and build upon.</p>
<h3 id="target-outcome">Target Outcome<a class="headerlink" href="#target-outcome" title="Permanent link">&para;</a></h3>
<p>A desktop robot that:
- Knows your calendar and reminds you of meetings with physical gestures
- Monitors your GitHub repos and reacts to CI failures
- Controls your smart home while physically pointing toward devices
- Maintains personality consistency across sessions
- Works offline when connectivity fails
- Respects privacy with transparent data handling</p>
<hr />
<h2 id="3-goals-success-criteria">3. Goals &amp; Success Criteria<a class="headerlink" href="#3-goals-success-criteria" title="Permanent link">&para;</a></h2>
<h3 id="primary-goals">Primary Goals<a class="headerlink" href="#primary-goals" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Goal</th>
<th>Success Metric</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>G1:</strong> Functional autonomous agent</td>
<td>Reachy responds to voice, executes multi-step tasks via MCP, maintains conversation context</td>
</tr>
<tr>
<td><strong>G2:</strong> Reliable operation</td>
<td>&lt;1% crash rate, graceful degradation on failures, 8+ hours continuous operation</td>
</tr>
<tr>
<td><strong>G3:</strong> Extensible platform</td>
<td>5+ MCP integrations working, documented API for community contributions</td>
</tr>
<tr>
<td><strong>G4:</strong> Educational content</td>
<td>10+ blog posts, 5+ YouTube videos, measurable community engagement</td>
</tr>
</tbody>
</table>
<h3 id="secondary-goals">Secondary Goals<a class="headerlink" href="#secondary-goals" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Goal</th>
<th>Success Metric</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>G5:</strong> Privacy-respecting</td>
<td>Physical listening indicators, local processing options, audit logging</td>
</tr>
<tr>
<td><strong>G6:</strong> Offline capability</td>
<td>Core functions work without internet for 30+ minutes</td>
</tr>
<tr>
<td><strong>G7:</strong> Expressive interaction</td>
<td>Antenna expressions, spatial audio awareness, physical touch responses</td>
</tr>
</tbody>
</table>
<h3 id="non-goals-explicitly-out-of-scope">Non-Goals (Explicitly Out of Scope)<a class="headerlink" href="#non-goals-explicitly-out-of-scope" title="Permanent link">&para;</a></h3>
<ul>
<li>Mobile/locomotion capabilities</li>
<li>Manipulation/grasping (no arms in Mini)</li>
<li>Real-time video streaming to cloud</li>
<li>Multi-robot coordination (future version)</li>
<li>Commercial product development</li>
</ul>
<hr />
<h2 id="4-target-users">4. Target Users<a class="headerlink" href="#4-target-users" title="Permanent link">&para;</a></h2>
<h3 id="primary-persona-the-ai-curious-developer">Primary Persona: The AI-Curious Developer<a class="headerlink" href="#primary-persona-the-ai-curious-developer" title="Permanent link">&para;</a></h3>
<p><strong>Name:</strong> Alex<br />
<strong>Role:</strong> Software developer with cloud/AI background<br />
<strong>Goals:</strong> 
- Explore embodied AI without building hardware from scratch
- Create something tangible to demonstrate AI capabilities
- Learn by building, then share knowledge</p>
<p><strong>Pain Points:</strong>
- Hardware robotics has steep learning curve
- Most robot kits are toy-grade, not AI-ready
- Existing AI assistants feel disembodied</p>
<p><strong>Technical Profile:</strong>
- Comfortable with Python, APIs, cloud services
- Some experience with Claude/LLMs
- Limited robotics/embedded experience</p>
<h3 id="secondary-persona-the-content-creator">Secondary Persona: The Content Creator<a class="headerlink" href="#secondary-persona-the-content-creator" title="Permanent link">&para;</a></h3>
<p><strong>Name:</strong> Jordan<br />
<strong>Role:</strong> Technical YouTuber/blogger<br />
<strong>Goals:</strong>
- Create engaging content at intersection of AI and robotics
- Build audience in emerging niche
- Establish authority in embodied AI space</p>
<p><strong>Pain Points:</strong>
- AI content is crowded
- Need visual/physical hook for video content
- Wants differentiated angle</p>
<h3 id="tertiary-persona-the-researchereducator">Tertiary Persona: The Researcher/Educator<a class="headerlink" href="#tertiary-persona-the-researchereducator" title="Permanent link">&para;</a></h3>
<p><strong>Name:</strong> Dr. Kim<br />
<strong>Role:</strong> HRI (Human-Robot Interaction) researcher or CS educator<br />
<strong>Goals:</strong>
- Accessible platform for teaching/research
- Reproducible experiments
- Student engagement</p>
<hr />
<h2 id="5-product-overview">5. Product Overview<a class="headerlink" href="#5-product-overview" title="Permanent link">&para;</a></h2>
<h3 id="system-context-diagram">System Context Diagram<a class="headerlink" href="#system-context-diagram" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│                              EXTERNAL SERVICES                               │
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐            │
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│  │  Anthropic  │ │   GitHub    │ │    Slack    │ │   Google    │   ...      │
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│  │     API     │ │     API     │ │     API     │ │  Calendar   │            │
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│  └──────┬──────┘ └──────┬──────┘ └──────┬──────┘ └──────┬──────┘            │
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>└─────────┼───────────────┼───────────────┼───────────────┼───────────────────┘
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>          │               │               │               │
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>          │ HTTPS         │ MCP           │ MCP           │ MCP
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>          │               │               │               │
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>┌─────────┼───────────────┼───────────────┼───────────────┼───────────────────┐
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│         │               │               │               │                    │
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│         ▼               ▼               ▼               ▼                    │
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│  ┌─────────────────────────────────────────────────────────────────────┐    │
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│  │                      CLAUDE AGENT SDK                                │    │
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                  │    │
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>│  │  │ Agent Loop  │  │    Hooks    │  │ Permissions │                  │    │
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>│  │  │             │  │ PreToolUse  │  │   Tiers     │                  │    │
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>│  │  │ Perceive ──▶│  │ PostToolUse │  │             │                  │    │
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>│  │  │ Think ─────▶│  │ OnPrompt    │  │             │                  │    │
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>│  │  │ Act ───────▶│  │             │  │             │                  │    │
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>│  │  └─────────────┘  └─────────────┘  └─────────────┘                  │    │
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>│  └─────────────────────────────────────────────────────────────────────┘    │
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>│                                    │                                         │
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>│                                    │ Internal MCP                            │
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>│                                    ▼                                         │
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>│  ┌─────────────────────────────────────────────────────────────────────┐    │
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>│  │                      REACHY AGENT CORE                               │    │
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌────────────┐  │    │
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>│  │  │ Perception  │  │   Memory    │  │ Personality │  │  Privacy   │  │    │
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>│  │  │   System    │  │   System    │  │    State    │  │  Controls  │  │    │
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>│  │  │             │  │             │  │             │  │            │  │    │
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>│  │  │ - Audio     │  │ - ChromaDB  │  │ - Mood      │  │ - Audit    │  │    │
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>│  │  │ - Vision    │  │ - Short-term│  │ - Energy    │  │ - Indicators│ │    │
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>│  │  │ - IMU       │  │ - Long-term │  │ - History   │  │ - Local-first││    │
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>│  │  │ - Spatial   │  │             │  │             │  │            │  │    │
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>│  │  └─────────────┘  └─────────────┘  └─────────────┘  └────────────┘  │    │
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>│  └─────────────────────────────────────────────────────────────────────┘    │
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>│                                    │                                         │
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>│                                    │ HTTP (localhost:8000)                   │
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>│                                    ▼                                         │
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>│  ┌─────────────────────────────────────────────────────────────────────┐    │
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>│  │                      REACHY DAEMON (FastAPI)                         │    │
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌────────────┐  │    │
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>│  │  │   Motion    │  │   Audio     │  │   Vision    │  │  Sensors   │  │    │
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>│  │  │  Control    │  │  Pipeline   │  │  Pipeline   │  │   (IMU)    │  │    │
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>│  │  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘  └─────┬──────┘  │    │
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>│  └─────────┼────────────────┼───────────────┼────────────────┼─────────┘    │
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>│            │                │               │                │               │
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>│  ┌─────────┼────────────────┼───────────────┼────────────────┼─────────┐    │
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>│  │         ▼                ▼               ▼                ▼         │    │
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>│  │  ┌───────────┐    ┌───────────┐   ┌───────────┐    ┌───────────┐   │    │
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>│  │  │  Motors   │    │  Speaker  │   │  Camera   │    │Accelerometer│  │    │
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>│  │  │  Servos   │    │  Mics x4  │   │           │    │            │  │    │
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>│  │  └───────────┘    └───────────┘   └───────────┘    └───────────┘   │    │
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>│  │                      HARDWARE                                       │    │
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>│  └─────────────────────────────────────────────────────────────────────┘    │
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>│                                                                              │
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>│                           REACHY MINI (Raspberry Pi 4)                       │
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>└──────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="core-components">Core Components<a class="headerlink" href="#core-components" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
<th>Technology</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Claude Agent SDK</strong></td>
<td>Agent loop, tool execution, context management</td>
<td>Python 3.10+, claude-agent-sdk</td>
</tr>
<tr>
<td><strong>Reachy MCP Server</strong></td>
<td>Exposes robot capabilities as MCP tools</td>
<td>Python, FastAPI</td>
</tr>
<tr>
<td><strong>Perception System</strong></td>
<td>Audio/video/sensor processing</td>
<td>OpenCV, PyAudio, pyroomacoustics</td>
</tr>
<tr>
<td><strong>Memory System</strong></td>
<td>Short/long-term memory storage</td>
<td>ChromaDB, SQLite</td>
</tr>
<tr>
<td><strong>Personality Engine</strong></td>
<td>Mood, energy, behavioral consistency</td>
<td>Custom Python</td>
</tr>
<tr>
<td><strong>Privacy Layer</strong></td>
<td>Audit, indicators, local processing</td>
<td>Custom Python</td>
</tr>
<tr>
<td><strong>Reachy Daemon</strong></td>
<td>Hardware abstraction (existing)</td>
<td>FastAPI (Pollen)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="6-technical-architecture">6. Technical Architecture<a class="headerlink" href="#6-technical-architecture" title="Permanent link">&para;</a></h2>
<h3 id="61-hardware-platform">6.1 Hardware Platform<a class="headerlink" href="#61-hardware-platform" title="Permanent link">&para;</a></h3>
<p><strong>Reachy Mini Wireless Specifications:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Specification</th>
<th>Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td>Compute</td>
<td>Raspberry Pi 4 (4GB/8GB RAM)</td>
<td><a href="https://www.raspberrypi.com/products/raspberry-pi-4-model-b/">RPi 4 Specs</a></td>
</tr>
<tr>
<td>Head DOF</td>
<td>6 degrees of freedom</td>
<td><a href="https://github.com/pollen-robotics/reachy_mini/blob/develop/docs/platforms/reachy_mini/hardware.md">Reachy Hardware</a></td>
</tr>
<tr>
<td>Body</td>
<td>Full 360° rotation</td>
<td></td>
</tr>
<tr>
<td>Antennas</td>
<td>2 animated antennas</td>
<td></td>
</tr>
<tr>
<td>Camera</td>
<td>Wide-angle camera</td>
<td></td>
</tr>
<tr>
<td>Audio</td>
<td>4-microphone array, 5W speaker</td>
<td></td>
</tr>
<tr>
<td>Sensors</td>
<td>Accelerometer/IMU</td>
<td></td>
</tr>
<tr>
<td>Power</td>
<td>Battery + wired option</td>
<td></td>
</tr>
<tr>
<td>Connectivity</td>
<td>WiFi</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="62-software-stack">6.2 Software Stack<a class="headerlink" href="#62-software-stack" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>┌─────────────────────────────────────────────────────────────┐
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>│                    APPLICATION LAYER                         │
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>│  ┌─────────────────────────────────────────────────────────┐│
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>│  │  Reachy Agent (Python)                                  ││
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>│  │  - main.py (entry point)                                ││
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>│  │  - agent/ (Claude Agent SDK integration)                ││
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>│  │  - perception/ (audio, vision, sensors)                 ││
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>│  │  - memory/ (ChromaDB, context management)               ││
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>│  │  - personality/ (mood, energy, behaviors)               ││
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>│  │  - privacy/ (audit, controls)                           ││
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>│  │  - mcp_servers/ (reachy, integrations)                  ││
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>│  └─────────────────────────────────────────────────────────┘│
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>├─────────────────────────────────────────────────────────────┤
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>│                    FRAMEWORK LAYER                           │
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐         │
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>│  │Claude Agent  │ │   MCP SDK    │ │   ChromaDB   │         │
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>│  │    SDK       │ │              │ │              │         │
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>│  └──────────────┘ └──────────────┘ └──────────────┘         │
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐         │
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>│  │   OpenCV     │ │  PyAudio     │ │ Porcupine/   │         │
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>│  │              │ │              │ │ OpenWakeWord │         │
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>│  └──────────────┘ └──────────────┘ └──────────────┘         │
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>├─────────────────────────────────────────────────────────────┤
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>│                    PLATFORM LAYER                            │
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐         │
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>│  │Reachy Daemon │ │  Reachy SDK  │ │ Claude Code  │         │
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>│  │ (FastAPI)    │ │   (Python)   │ │     CLI      │         │
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>│  └──────────────┘ └──────────────┘ └──────────────┘         │
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>├─────────────────────────────────────────────────────────────┤
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>│                    SYSTEM LAYER                              │
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐         │
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>│  │  Python 3.10 │ │   Node.js    │ │   systemd    │         │
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>│  │              │ │              │ │              │         │
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>│  └──────────────┘ └──────────────┘ └──────────────┘         │
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>├─────────────────────────────────────────────────────────────┤
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>│                    OS / HARDWARE                             │
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>│  ┌─────────────────────────────────────────────────────────┐│
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>│  │  Raspberry Pi OS (64-bit) / Raspberry Pi 4              ││
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>│  └─────────────────────────────────────────────────────────┘│
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>└─────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="63-mcp-server-architecture">6.3 MCP Server Architecture<a class="headerlink" href="#63-mcp-server-architecture" title="Permanent link">&para;</a></h3>
<p><strong>Reachy MCP Server (Body Control):</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># reachy_mcp_server/tools.py</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">TOOLS</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="p">{</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;move_head&quot;</span><span class="p">,</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Move Reachy&#39;s head to look in a direction&quot;</span><span class="p">,</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>                <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>                    <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;front&quot;</span><span class="p">],</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Direction to look&quot;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>                <span class="p">},</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>                <span class="s2">&quot;speed&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>                    <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;slow&quot;</span><span class="p">,</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="s2">&quot;fast&quot;</span><span class="p">],</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>                    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>                <span class="p">}</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>            <span class="p">},</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>            <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;direction&quot;</span><span class="p">]</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>        <span class="p">}</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>    <span class="p">},</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>    <span class="p">{</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;play_emotion&quot;</span><span class="p">,</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Display an emotional expression through movement and antennas&quot;</span><span class="p">,</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>                <span class="s2">&quot;emotion&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>                    <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;happy&quot;</span><span class="p">,</span> <span class="s2">&quot;sad&quot;</span><span class="p">,</span> <span class="s2">&quot;curious&quot;</span><span class="p">,</span> <span class="s2">&quot;excited&quot;</span><span class="p">,</span> <span class="s2">&quot;confused&quot;</span><span class="p">,</span> 
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>                             <span class="s2">&quot;thinking&quot;</span><span class="p">,</span> <span class="s2">&quot;surprised&quot;</span><span class="p">,</span> <span class="s2">&quot;tired&quot;</span><span class="p">,</span> <span class="s2">&quot;alert&quot;</span><span class="p">],</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Emotion to express&quot;</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>                <span class="p">}</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>            <span class="p">},</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>            <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;emotion&quot;</span><span class="p">]</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>        <span class="p">}</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>    <span class="p">},</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>    <span class="p">{</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;speak&quot;</span><span class="p">,</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Speak text aloud through Reachy&#39;s speaker&quot;</span><span class="p">,</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Text to speak&quot;</span><span class="p">},</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>                <span class="s2">&quot;voice&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">}</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>            <span class="p">},</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>            <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>        <span class="p">}</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>    <span class="p">},</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a>    <span class="p">{</span>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;dance&quot;</span><span class="p">,</span>
</span><span id="__span-2-54"><a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Perform a choreographed dance routine&quot;</span><span class="p">,</span>
</span><span id="__span-2-55"><a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-56"><a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-57"><a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-58"><a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>                <span class="s2">&quot;routine&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-59"><a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-2-60"><a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a>                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of dance routine&quot;</span>
</span><span id="__span-2-61"><a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a>                <span class="p">}</span>
</span><span id="__span-2-62"><a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a>            <span class="p">},</span>
</span><span id="__span-2-63"><a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a>            <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;routine&quot;</span><span class="p">]</span>
</span><span id="__span-2-64"><a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a>        <span class="p">}</span>
</span><span id="__span-2-65"><a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a>    <span class="p">},</span>
</span><span id="__span-2-66"><a id="__codelineno-2-66" name="__codelineno-2-66" href="#__codelineno-2-66"></a>    <span class="p">{</span>
</span><span id="__span-2-67"><a id="__codelineno-2-67" name="__codelineno-2-67" href="#__codelineno-2-67"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;capture_image&quot;</span><span class="p">,</span>
</span><span id="__span-2-68"><a id="__codelineno-2-68" name="__codelineno-2-68" href="#__codelineno-2-68"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Capture an image from Reachy&#39;s camera&quot;</span><span class="p">,</span>
</span><span id="__span-2-69"><a id="__codelineno-2-69" name="__codelineno-2-69" href="#__codelineno-2-69"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-70"><a id="__codelineno-2-70" name="__codelineno-2-70" href="#__codelineno-2-70"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-71"><a id="__codelineno-2-71" name="__codelineno-2-71" href="#__codelineno-2-71"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-72"><a id="__codelineno-2-72" name="__codelineno-2-72" href="#__codelineno-2-72"></a>                <span class="s2">&quot;analyze&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-73"><a id="__codelineno-2-73" name="__codelineno-2-73" href="#__codelineno-2-73"></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
</span><span id="__span-2-74"><a id="__codelineno-2-74" name="__codelineno-2-74" href="#__codelineno-2-74"></a>                    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="__span-2-75"><a id="__codelineno-2-75" name="__codelineno-2-75" href="#__codelineno-2-75"></a>                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Whether to analyze the image content&quot;</span>
</span><span id="__span-2-76"><a id="__codelineno-2-76" name="__codelineno-2-76" href="#__codelineno-2-76"></a>                <span class="p">}</span>
</span><span id="__span-2-77"><a id="__codelineno-2-77" name="__codelineno-2-77" href="#__codelineno-2-77"></a>            <span class="p">}</span>
</span><span id="__span-2-78"><a id="__codelineno-2-78" name="__codelineno-2-78" href="#__codelineno-2-78"></a>        <span class="p">}</span>
</span><span id="__span-2-79"><a id="__codelineno-2-79" name="__codelineno-2-79" href="#__codelineno-2-79"></a>    <span class="p">},</span>
</span><span id="__span-2-80"><a id="__codelineno-2-80" name="__codelineno-2-80" href="#__codelineno-2-80"></a>    <span class="p">{</span>
</span><span id="__span-2-81"><a id="__codelineno-2-81" name="__codelineno-2-81" href="#__codelineno-2-81"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;set_antenna_state&quot;</span><span class="p">,</span>
</span><span id="__span-2-82"><a id="__codelineno-2-82" name="__codelineno-2-82" href="#__codelineno-2-82"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Control antenna positions for expression&quot;</span><span class="p">,</span>
</span><span id="__span-2-83"><a id="__codelineno-2-83" name="__codelineno-2-83" href="#__codelineno-2-83"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-84"><a id="__codelineno-2-84" name="__codelineno-2-84" href="#__codelineno-2-84"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-85"><a id="__codelineno-2-85" name="__codelineno-2-85" href="#__codelineno-2-85"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-86"><a id="__codelineno-2-86" name="__codelineno-2-86" href="#__codelineno-2-86"></a>                <span class="s2">&quot;left_angle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">90</span><span class="p">},</span>
</span><span id="__span-2-87"><a id="__codelineno-2-87" name="__codelineno-2-87" href="#__codelineno-2-87"></a>                <span class="s2">&quot;right_angle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;minimum&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;maximum&quot;</span><span class="p">:</span> <span class="mi">90</span><span class="p">},</span>
</span><span id="__span-2-88"><a id="__codelineno-2-88" name="__codelineno-2-88" href="#__codelineno-2-88"></a>                <span class="s2">&quot;wiggle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</span><span id="__span-2-89"><a id="__codelineno-2-89" name="__codelineno-2-89" href="#__codelineno-2-89"></a>            <span class="p">}</span>
</span><span id="__span-2-90"><a id="__codelineno-2-90" name="__codelineno-2-90" href="#__codelineno-2-90"></a>        <span class="p">}</span>
</span><span id="__span-2-91"><a id="__codelineno-2-91" name="__codelineno-2-91" href="#__codelineno-2-91"></a>    <span class="p">},</span>
</span><span id="__span-2-92"><a id="__codelineno-2-92" name="__codelineno-2-92" href="#__codelineno-2-92"></a>    <span class="p">{</span>
</span><span id="__span-2-93"><a id="__codelineno-2-93" name="__codelineno-2-93" href="#__codelineno-2-93"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;get_sensor_data&quot;</span><span class="p">,</span>
</span><span id="__span-2-94"><a id="__codelineno-2-94" name="__codelineno-2-94" href="#__codelineno-2-94"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Get current sensor readings (IMU, audio levels)&quot;</span><span class="p">,</span>
</span><span id="__span-2-95"><a id="__codelineno-2-95" name="__codelineno-2-95" href="#__codelineno-2-95"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-96"><a id="__codelineno-2-96" name="__codelineno-2-96" href="#__codelineno-2-96"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-97"><a id="__codelineno-2-97" name="__codelineno-2-97" href="#__codelineno-2-97"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-98"><a id="__codelineno-2-98" name="__codelineno-2-98" href="#__codelineno-2-98"></a>                <span class="s2">&quot;sensors&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-99"><a id="__codelineno-2-99" name="__codelineno-2-99" href="#__codelineno-2-99"></a>                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
</span><span id="__span-2-100"><a id="__codelineno-2-100" name="__codelineno-2-100" href="#__codelineno-2-100"></a>                    <span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;imu&quot;</span><span class="p">,</span> <span class="s2">&quot;audio_level&quot;</span><span class="p">,</span> <span class="s2">&quot;temperature&quot;</span><span class="p">]}</span>
</span><span id="__span-2-101"><a id="__codelineno-2-101" name="__codelineno-2-101" href="#__codelineno-2-101"></a>                <span class="p">}</span>
</span><span id="__span-2-102"><a id="__codelineno-2-102" name="__codelineno-2-102" href="#__codelineno-2-102"></a>            <span class="p">}</span>
</span><span id="__span-2-103"><a id="__codelineno-2-103" name="__codelineno-2-103" href="#__codelineno-2-103"></a>        <span class="p">}</span>
</span><span id="__span-2-104"><a id="__codelineno-2-104" name="__codelineno-2-104" href="#__codelineno-2-104"></a>    <span class="p">},</span>
</span><span id="__span-2-105"><a id="__codelineno-2-105" name="__codelineno-2-105" href="#__codelineno-2-105"></a>    <span class="p">{</span>
</span><span id="__span-2-106"><a id="__codelineno-2-106" name="__codelineno-2-106" href="#__codelineno-2-106"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;look_at_sound&quot;</span><span class="p">,</span>
</span><span id="__span-2-107"><a id="__codelineno-2-107" name="__codelineno-2-107" href="#__codelineno-2-107"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Turn to face the direction of detected sound&quot;</span><span class="p">,</span>
</span><span id="__span-2-108"><a id="__codelineno-2-108" name="__codelineno-2-108" href="#__codelineno-2-108"></a>        <span class="s2">&quot;inputSchema&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-2-109"><a id="__codelineno-2-109" name="__codelineno-2-109" href="#__codelineno-2-109"></a>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-2-110"><a id="__codelineno-2-110" name="__codelineno-2-110" href="#__codelineno-2-110"></a>            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{}</span>
</span><span id="__span-2-111"><a id="__codelineno-2-111" name="__codelineno-2-111" href="#__codelineno-2-111"></a>        <span class="p">}</span>
</span><span id="__span-2-112"><a id="__codelineno-2-112" name="__codelineno-2-112" href="#__codelineno-2-112"></a>    <span class="p">}</span>
</span><span id="__span-2-113"><a id="__codelineno-2-113" name="__codelineno-2-113" href="#__codelineno-2-113"></a><span class="p">]</span>
</span></code></pre></div>
<h3 id="64-permission-tiers">6.4 Permission Tiers<a class="headerlink" href="#64-permission-tiers" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># permissions/tiers.py</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">PermissionTier</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="n">AUTONOMOUS</span> <span class="o">=</span> <span class="mi">1</span>      <span class="c1"># Execute immediately, no notification</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="n">NOTIFY</span> <span class="o">=</span> <span class="mi">2</span>          <span class="c1"># Execute and notify user</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="n">CONFIRM</span> <span class="o">=</span> <span class="mi">3</span>         <span class="c1"># Request confirmation before execution</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="n">FORBIDDEN</span> <span class="o">=</span> <span class="mi">4</span>       <span class="c1"># Never execute</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nd">@dataclass</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="k">class</span><span class="w"> </span><span class="nc">ToolPermission</span><span class="p">:</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="n">tool_pattern</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>    <span class="n">tier</span><span class="p">:</span> <span class="n">PermissionTier</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>    <span class="n">reason</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="n">PERMISSION_CONFIG</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>    <span class="c1"># Tier 1: Autonomous (body control, observation)</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__move_head&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Body control&quot;</span><span class="p">),</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__play_emotion&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Expression&quot;</span><span class="p">),</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__speak&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Communication&quot;</span><span class="p">),</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__dance&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Expression&quot;</span><span class="p">),</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__set_antenna_state&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Expression&quot;</span><span class="p">),</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__capture_image&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Observation&quot;</span><span class="p">),</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__get_sensor_data&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Observation&quot;</span><span class="p">),</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__reachy__look_at_sound&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Attention&quot;</span><span class="p">),</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__calendar__get_events&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Information&quot;</span><span class="p">),</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__weather__get_forecast&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Information&quot;</span><span class="p">),</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__github__get_notifications&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">AUTONOMOUS</span><span class="p">,</span> <span class="s2">&quot;Information&quot;</span><span class="p">),</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>    <span class="c1"># Tier 2: Notify (reversible actions)</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__homeassistant__turn_on_*&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">NOTIFY</span><span class="p">,</span> <span class="s2">&quot;Smart home&quot;</span><span class="p">),</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__homeassistant__turn_off_*&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">NOTIFY</span><span class="p">,</span> <span class="s2">&quot;Smart home&quot;</span><span class="p">),</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__slack__send_message&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">NOTIFY</span><span class="p">,</span> <span class="s2">&quot;Communication&quot;</span><span class="p">),</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__spotify__play&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">NOTIFY</span><span class="p">,</span> <span class="s2">&quot;Media&quot;</span><span class="p">),</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>    <span class="c1"># Tier 3: Confirm (irreversible or sensitive)</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__calendar__create_event&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">CONFIRM</span><span class="p">,</span> <span class="s2">&quot;Creates data&quot;</span><span class="p">),</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__github__create_issue&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">CONFIRM</span><span class="p">,</span> <span class="s2">&quot;Creates data&quot;</span><span class="p">),</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__github__create_pr&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">CONFIRM</span><span class="p">,</span> <span class="s2">&quot;Creates data&quot;</span><span class="p">),</span>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__homeassistant__unlock_*&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">CONFIRM</span><span class="p">,</span> <span class="s2">&quot;Security&quot;</span><span class="p">),</span>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;Bash&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">CONFIRM</span><span class="p">,</span> <span class="s2">&quot;System access&quot;</span><span class="p">),</span>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>    <span class="c1"># Tier 4: Forbidden</span>
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__homeassistant__disarm_*&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">FORBIDDEN</span><span class="p">,</span> <span class="s2">&quot;Security critical&quot;</span><span class="p">),</span>
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__email__send&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">FORBIDDEN</span><span class="p">,</span> <span class="s2">&quot;Impersonation risk&quot;</span><span class="p">),</span>
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a>    <span class="n">ToolPermission</span><span class="p">(</span><span class="s2">&quot;mcp__banking__*&quot;</span><span class="p">,</span> <span class="n">PermissionTier</span><span class="o">.</span><span class="n">FORBIDDEN</span><span class="p">,</span> <span class="s2">&quot;Financial&quot;</span><span class="p">),</span>
</span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a><span class="p">]</span>
</span></code></pre></div>
<h3 id="65-attention-state-machine">6.5 Attention State Machine<a class="headerlink" href="#65-attention-state-machine" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>                    ┌─────────────────────┐
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>                    │                     │
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>           ┌───────▶│      PASSIVE        │◀───────┐
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>           │        │                     │        │
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>           │        │ - Wake word detect  │        │
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>           │        │ - Motion detect     │        │
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>           │        │ - Schedule check    │        │
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>           │        │ - Minimal CPU       │        │
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>           │        └──────────┬──────────┘        │
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>           │                   │                   │
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>           │        Motion     │    Wake word      │
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>           │        detected   │    detected       │
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>           │                   │                   │
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>           │                   ▼                   │
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>           │        ┌─────────────────────┐        │
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>           │        │                     │        │
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>   No presence      │       ALERT         │        │  30s silence
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>   for 5 min        │                     │        │
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>           │        │ - Face detection    │        │
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>           │        │ - Periodic Claude   │        │
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>           │        │ - Ready for voice   │        │
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>           │        │ - Medium CPU        │        │
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>           │        └──────────┬──────────┘        │
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>           │                   │                   │
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>           │                   │ Voice detected    │
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>           │                   │ or addressed      │
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>           │                   │                   │
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>           │                   ▼                   │
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>           │        ┌─────────────────────┐        │
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>           │        │                     │────────┘
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>           └────────│      ENGAGED        │
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>                    │                     │
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>                    │ - Active listening  │
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>                    │ - Claude API calls  │
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>                    │ - Full expression   │
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>                    │ - High CPU          │
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>                    └─────────────────────┘
</span></code></pre></div>
<hr />
<h2 id="7-feature-requirements">7. Feature Requirements<a class="headerlink" href="#7-feature-requirements" title="Permanent link">&para;</a></h2>
<h3 id="71-p0-must-have-mvp">7.1 P0: Must Have (MVP)<a class="headerlink" href="#71-p0-must-have-mvp" title="Permanent link">&para;</a></h3>
<h4 id="f1-claude-agent-sdk-integration">F1: Claude Agent SDK Integration<a class="headerlink" href="#f1-claude-agent-sdk-integration" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Install and configure Claude Agent SDK on Raspberry Pi 4 to run autonomous agent loop.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Claude Agent SDK installs successfully on Pi 4 (ARM64)
- [ ] Agent can execute multi-turn conversations
- [ ] Agent can call MCP tools
- [ ] Agent respects permission configuration
- [ ] System prompt loaded from CLAUDE.md</p>
<p><strong>Technical Notes:</strong>
- Requires Claude Code CLI v0.2.114+ (ARM64 fix)
- Use native installer: <code>curl -fsSL https://claude.ai/install.sh | bash</code>
- Python 3.10+ required</p>
<p><strong>References:</strong>
- <a href="https://github.com/anthropics/claude-agent-sdk-python">Claude Agent SDK Python</a>
- <a href="https://docs.claude.com/en/api/agent-sdk/overview">Agent SDK Documentation</a>
- <a href="https://github.com/anthropics/claude-code/issues/3569">ARM64 Bug Fix</a></p>
<hr />
<h4 id="f2-reachy-mcp-server">F2: Reachy MCP Server<a class="headerlink" href="#f2-reachy-mcp-server" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Create MCP server that exposes Reachy's physical capabilities as tools.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] MCP server starts and registers tools
- [ ] move_head tool controls head position
- [ ] play_emotion tool triggers expression sequences
- [ ] speak tool outputs audio through speaker
- [ ] capture_image tool returns camera frame
- [ ] dance tool triggers choreographed routines
- [ ] Tools are discoverable by Claude Agent SDK</p>
<p><strong>Technical Notes:</strong>
- Wrap existing Reachy Daemon API (FastAPI on port 8000)
- Use <code>create_sdk_mcp_server</code> for in-process server
- Follow MCP tool schema specification</p>
<p><strong>References:</strong>
- <a href="https://github.com/modelcontextprotocol/python-sdk">MCP Python SDK</a>
- <a href="https://spec.modelcontextprotocol.io/">MCP Specification</a>
- <a href="https://github.com/pollen-robotics/reachy_mini/blob/develop/docs/SDK/readme.md">Reachy SDK</a>
- <a href="https://github.com/pollen-robotics/reachy_mini">Reachy Daemon API</a></p>
<hr />
<h4 id="f3-wake-word-detection">F3: Wake Word Detection<a class="headerlink" href="#f3-wake-word-detection" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Local wake word detection to trigger engaged mode without continuous API calls.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Detects custom wake word (e.g., "Hey Reachy")
- [ ] Runs entirely on-device (no cloud calls)
- [ ] False positive rate &lt; 1 per hour
- [ ] Latency &lt; 500ms from utterance to detection
- [ ] Configurable wake word phrase</p>
<p><strong>Technical Notes:</strong>
- Porcupine recommended for accuracy (requires license for custom wake words)
- OpenWakeWord as open-source alternative
- Vosk for fully offline option</p>
<p><strong>References:</strong>
- <a href="https://picovoice.ai/platform/porcupine/">Porcupine Wake Word</a>
- <a href="https://github.com/dscripka/openWakeWord">OpenWakeWord</a>
- <a href="https://alphacephei.com/vosk/">Vosk</a></p>
<hr />
<h4 id="f4-basic-permission-system">F4: Basic Permission System<a class="headerlink" href="#f4-basic-permission-system" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Implement tiered permission system using Agent SDK hooks.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] PreToolUse hook evaluates all tool calls
- [ ] Tier 1 tools execute without intervention
- [ ] Tier 2 tools execute with notification
- [ ] Tier 3 tools require confirmation
- [ ] Tier 4 tools are blocked with explanation
- [ ] Permission config is externalized (JSON/YAML)</p>
<p><strong>Technical Notes:</strong>
- Use HookMatcher with wildcard patterns
- Implement confirmation via voice prompt
- Log all permission decisions</p>
<p><strong>References:</strong>
- <a href="https://docs.claude.com/en/docs/agent-sdk/permissions">Agent SDK Permissions</a>
- <a href="https://code.claude.com/docs/en/hooks-guide">Hooks Guide</a></p>
<hr />
<h4 id="f5-graceful-degradation">F5: Graceful Degradation<a class="headerlink" href="#f5-graceful-degradation" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Handle failures gracefully to maintain user trust.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] API failures trigger local fallback speech
- [ ] Robot enters safe pose on critical errors
- [ ] WiFi disconnection is communicated physically
- [ ] Hardware faults disable affected components only
- [ ] Health monitoring prevents thermal throttling
- [ ] Crash recovery restores last known good state</p>
<p><strong>Technical Notes:</strong>
- Use Piper TTS for local speech fallback
- Define "safe pose" as neutral, low-power position
- Implement exponential backoff for retries
- Monitor /sys/class/thermal for CPU temps</p>
<p><strong>References:</strong>
- <a href="https://github.com/rhasspy/piper">Piper TTS</a>
- <a href="https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#frequency-management-and-thermal-control">Pi Thermal Management</a></p>
<hr />
<h4 id="f6-privacy-indicators">F6: Privacy Indicators<a class="headerlink" href="#f6-privacy-indicators" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Physical and visible indicators of listening/processing state.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Antenna position indicates listening state
- [ ] Clear visual distinction between passive/alert/engaged
- [ ] User can verify current state at a glance
- [ ] State changes are smooth, not jarring</p>
<p><strong>Technical Notes:</strong>
- Map antenna positions to states (down=passive, mid=alert, up=engaged)
- Consider LED integration if hardware supports
- Document state meanings for users</p>
<hr />
<h3 id="72-p1-should-have-v10">7.2 P1: Should Have (v1.0)<a class="headerlink" href="#72-p1-should-have-v10" title="Permanent link">&para;</a></h3>
<h4 id="f7-memory-system">F7: Memory System<a class="headerlink" href="#f7-memory-system" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Persistent memory for context and preferences.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Short-term memory persists within session
- [ ] Long-term memory persists across sessions
- [ ] Relevant memories retrieved by semantic similarity
- [ ] User preferences stored and applied
- [ ] Memory can be cleared on request</p>
<p><strong>Technical Notes:</strong>
- ChromaDB for vector storage
- SQLite for structured data
- Embed memories using sentence-transformers
- Store on external SSD for longevity</p>
<p><strong>References:</strong>
- <a href="https://www.trychroma.com/">ChromaDB</a>
- <a href="https://www.sbert.net/">sentence-transformers</a></p>
<hr />
<h4 id="f8-spatial-audio-awareness">F8: Spatial Audio Awareness<a class="headerlink" href="#f8-spatial-audio-awareness" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Use 4-microphone array for sound source localization.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Detect direction of sound source (±15° accuracy)
- [ ] Turn to face active speaker
- [ ] Track multiple speakers in room
- [ ] Distinguish speech from ambient noise</p>
<p><strong>Technical Notes:</strong>
- Use pyroomacoustics for DOA estimation
- Requires calibration of mic positions
- Beamforming for noise reduction</p>
<p><strong>References:</strong>
- <a href="https://github.com/LCAV/pyroomacoustics">pyroomacoustics</a>
- <a href="https://www.sciencedirect.com/topics/engineering/sound-source-localization">Sound Localization Techniques</a></p>
<hr />
<h4 id="f9-imu-interaction">F9: IMU Interaction<a class="headerlink" href="#f9-imu-interaction" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Respond to physical touch and movement.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Detect tap/bump on robot body
- [ ] Detect when picked up
- [ ] Detect when knocked over
- [ ] Respond appropriately to each interaction</p>
<p><strong>Technical Notes:</strong>
- Sample accelerometer at 50Hz
- Use thresholds for event detection
- Debounce to prevent false triggers</p>
<hr />
<h4 id="f10-antenna-expression-language">F10: Antenna Expression Language<a class="headerlink" href="#f10-antenna-expression-language" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Rich expressive vocabulary using antenna positions and movements.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] 10+ distinct expressions defined
- [ ] Expressions blend smoothly
- [ ] Expressions can be layered (base + modification)
- [ ] Expressions respond to context (speech, events)</p>
<p><strong>Technical Notes:</strong>
- Define expression as (left_angle, right_angle, pattern, speed)
- Patterns: static, wiggle, wave, pulse
- Use easing functions for natural movement</p>
<hr />
<h4 id="f11-setup-wizard">F11: Setup Wizard<a class="headerlink" href="#f11-setup-wizard" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Guided setup experience for new users.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Single command initiates setup
- [ ] Prompts for API key
- [ ] Offers integration options (Home Assistant, etc.)
- [ ] Configures wake word
- [ ] Tests hardware components
- [ ] Generates configuration file</p>
<p><strong>Technical Notes:</strong>
- Use Rich library for terminal UI
- Validate inputs before saving
- Provide skip options for advanced users</p>
<p><strong>References:</strong>
- <a href="https://github.com/Textualize/rich">Rich</a></p>
<hr />
<h3 id="73-p2-nice-to-have-v20">7.3 P2: Nice to Have (v2.0)<a class="headerlink" href="#73-p2-nice-to-have-v20" title="Permanent link">&para;</a></h3>
<h4 id="f12-offline-fallback-stack">F12: Offline Fallback Stack<a class="headerlink" href="#f12-offline-fallback-stack" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Core functionality works without internet.</p>
<p><strong>Components:</strong>
- Local LLM: Ollama with Llama 3.2 3B
- Local STT: Whisper.cpp (small model)
- Local TTS: Piper
- Local vision: SmolVLM2 or YOLO</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Detects connectivity loss
- [ ] Switches to local models gracefully
- [ ] Maintains conversation within reduced capability
- [ ] Resumes cloud operation when connected</p>
<p><strong>References:</strong>
- <a href="https://ollama.ai/">Ollama</a>
- <a href="https://github.com/ggerganov/whisper.cpp">Whisper.cpp</a>
- <a href="https://huggingface.co/HuggingFaceTB/SmolVLM2-2.2B-Instruct">SmolVLM2</a></p>
<hr />
<h4 id="f13-web-dashboard">F13: Web Dashboard<a class="headerlink" href="#f13-web-dashboard" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Browser-based interface for configuration and monitoring.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] View robot status in real-time
- [ ] Toggle features on/off
- [ ] View and clear logs
- [ ] Test expressions manually
- [ ] Manage MCP connections</p>
<p><strong>Technical Notes:</strong>
- FastAPI + React or Gradio
- WebSocket for real-time updates
- Mobile-friendly responsive design</p>
<hr />
<h4 id="f14-personality-persistence">F14: Personality Persistence<a class="headerlink" href="#f14-personality-persistence" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Maintain consistent personality across sessions.</p>
<p><strong>Acceptance Criteria:</strong>
- [ ] Mood persists and influences behavior
- [ ] Energy level changes over day
- [ ] Interaction history affects personality
- [ ] Personality context included in prompts</p>
<hr />
<h4 id="f15-external-mcp-integrations">F15: External MCP Integrations<a class="headerlink" href="#f15-external-mcp-integrations" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Connect to external services via MCP.</p>
<p><strong>Priority integrations:</strong>
1. Home Assistant
2. Google Calendar
3. Slack
4. GitHub
5. Spotify</p>
<p><strong>References:</strong>
- <a href="https://github.com/modelcontextprotocol/servers">MCP Server Registry</a>
- <a href="https://github.com/tevonsb/homeassistant-mcp">Home Assistant MCP</a></p>
<hr />
<h3 id="74-p3-future-v30">7.4 P3: Future (v3.0+)<a class="headerlink" href="#74-p3-future-v30" title="Permanent link">&para;</a></h3>
<h4 id="f16-multi-agent-coordination">F16: Multi-Agent Coordination<a class="headerlink" href="#f16-multi-agent-coordination" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Multiple Reachy units coordinate via shared state.</p>
<hr />
<h4 id="f17-lerobot-integration">F17: LeRobot Integration<a class="headerlink" href="#f17-lerobot-integration" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Record demonstrations, train behaviors, share on HF Hub.</p>
<p><strong>References:</strong>
- <a href="https://github.com/huggingface/lerobot">LeRobot</a></p>
<hr />
<h4 id="f18-community-behavior-registry">F18: Community Behavior Registry<a class="headerlink" href="#f18-community-behavior-registry" title="Permanent link">&para;</a></h4>
<p><strong>Description:</strong> Share and download community-created behaviors.</p>
<hr />
<h2 id="8-non-functional-requirements">8. Non-Functional Requirements<a class="headerlink" href="#8-non-functional-requirements" title="Permanent link">&para;</a></h2>
<h3 id="81-performance">8.1 Performance<a class="headerlink" href="#81-performance" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Wake word latency</td>
<td>&lt; 500ms</td>
</tr>
<tr>
<td>Voice-to-response</td>
<td>&lt; 3s (engaged mode)</td>
</tr>
<tr>
<td>Motion smoothness</td>
<td>30 FPS minimum</td>
</tr>
<tr>
<td>Memory usage</td>
<td>&lt; 2GB RAM</td>
</tr>
<tr>
<td>Startup time</td>
<td>&lt; 60 seconds</td>
</tr>
</tbody>
</table>
<h3 id="82-reliability">8.2 Reliability<a class="headerlink" href="#82-reliability" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Uptime</td>
<td>99% during active hours</td>
</tr>
<tr>
<td>Crash rate</td>
<td>&lt; 1 per 8 hours</td>
</tr>
<tr>
<td>Recovery time</td>
<td>&lt; 30 seconds</td>
</tr>
<tr>
<td>Data loss</td>
<td>Zero (graceful shutdown)</td>
</tr>
</tbody>
</table>
<h3 id="83-security">8.3 Security<a class="headerlink" href="#83-security" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td>API key protection</td>
<td>Environment variables, not config files</td>
</tr>
<tr>
<td>Audit logging</td>
<td>All tool executions logged</td>
</tr>
<tr>
<td>Permission enforcement</td>
<td>Hooks cannot be bypassed</td>
</tr>
<tr>
<td>Local processing option</td>
<td>Available for sensitive data</td>
</tr>
</tbody>
</table>
<h3 id="84-privacy">8.4 Privacy<a class="headerlink" href="#84-privacy" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Listening indicator</td>
<td>Physical antenna state</td>
</tr>
<tr>
<td>Data retention</td>
<td>Configurable, default 7 days</td>
</tr>
<tr>
<td>Opt-out</td>
<td>Disable camera/mic independently</td>
</tr>
<tr>
<td>Audit access</td>
<td>User can review all logs</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="9-implementation-phases">9. Implementation Phases<a class="headerlink" href="#9-implementation-phases" title="Permanent link">&para;</a></h2>
<h3 id="phase-1-foundation-weeks-1-4">Phase 1: Foundation (Weeks 1-4)<a class="headerlink" href="#phase-1-foundation-weeks-1-4" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Validate core architecture in simulation</p>
<table>
<thead>
<tr>
<th>Week</th>
<th>Deliverables</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Dev environment setup, MuJoCo simulation running</td>
</tr>
<tr>
<td>2</td>
<td>Reachy MCP server skeleton, basic tools</td>
</tr>
<tr>
<td>3</td>
<td>Claude Agent SDK integration in simulation</td>
</tr>
<tr>
<td>4</td>
<td>Permission system, CLAUDE.md personality</td>
</tr>
</tbody>
</table>
<p><strong>Exit Criteria:</strong>
- Agent controls simulated Reachy via MCP
- Multi-turn conversations work
- Permissions enforced</p>
<hr />
<h3 id="phase-2-hardware-integration-weeks-5-8">Phase 2: Hardware Integration (Weeks 5-8)<a class="headerlink" href="#phase-2-hardware-integration-weeks-5-8" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Running on physical Reachy Mini</p>
<table>
<thead>
<tr>
<th>Week</th>
<th>Deliverables</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>Pi setup, daemon running, SDK installed</td>
</tr>
<tr>
<td>6</td>
<td>MCP server connected to real hardware</td>
</tr>
<tr>
<td>7</td>
<td>Wake word detection, attention states</td>
</tr>
<tr>
<td>8</td>
<td>Graceful degradation, privacy indicators</td>
</tr>
</tbody>
</table>
<p><strong>Exit Criteria:</strong>
- Voice-activated agent on physical robot
- Reliable 8-hour operation
- Graceful handling of failures</p>
<hr />
<h3 id="phase-3-intelligence-layer-weeks-9-12">Phase 3: Intelligence Layer (Weeks 9-12)<a class="headerlink" href="#phase-3-intelligence-layer-weeks-9-12" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Rich perception and memory</p>
<table>
<thead>
<tr>
<th>Week</th>
<th>Deliverables</th>
</tr>
</thead>
<tbody>
<tr>
<td>9</td>
<td>Memory system (ChromaDB)</td>
</tr>
<tr>
<td>10</td>
<td>Spatial audio awareness</td>
</tr>
<tr>
<td>11</td>
<td>IMU interaction, antenna expressions</td>
</tr>
<tr>
<td>12</td>
<td>Integration testing, bug fixes</td>
</tr>
</tbody>
</table>
<p><strong>Exit Criteria:</strong>
- Robot remembers context across sessions
- Responds to physical interaction
- Expressive antenna behavior</p>
<hr />
<h3 id="phase-4-polish-extensibility-weeks-13-16">Phase 4: Polish &amp; Extensibility (Weeks 13-16)<a class="headerlink" href="#phase-4-polish-extensibility-weeks-13-16" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Ready for content and community</p>
<table>
<thead>
<tr>
<th>Week</th>
<th>Deliverables</th>
</tr>
</thead>
<tbody>
<tr>
<td>13</td>
<td>Setup wizard, configuration UX</td>
</tr>
<tr>
<td>14</td>
<td>External MCP integrations (3+)</td>
</tr>
<tr>
<td>15</td>
<td>Documentation, examples</td>
</tr>
<tr>
<td>16</td>
<td>First blog post, demo video</td>
</tr>
</tbody>
</table>
<p><strong>Exit Criteria:</strong>
- New user can set up in 30 minutes
- 3+ external services connected
- Public documentation complete</p>
<hr />
<h2 id="10-content-strategy">10. Content Strategy<a class="headerlink" href="#10-content-strategy" title="Permanent link">&para;</a></h2>
<h3 id="101-blog-series-jawhnycookeai">10.1 Blog Series (jawhnycooke.ai)<a class="headerlink" href="#101-blog-series-jawhnycookeai" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>#</th>
<th>Title</th>
<th>Phase</th>
<th>Content Focus</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>"Giving Claude a Body: Introduction to Reachy Agent"</td>
<td>1</td>
<td>Vision, architecture overview</td>
</tr>
<tr>
<td>2</td>
<td>"Building an MCP Server for Physical Robots"</td>
<td>1</td>
<td>MCP deep-dive, tool design</td>
</tr>
<tr>
<td>3</td>
<td>"Running Claude Agent SDK on Raspberry Pi"</td>
<td>2</td>
<td>Installation, ARM64 challenges</td>
</tr>
<tr>
<td>4</td>
<td>"Wake Words and Attention States for Embodied AI"</td>
<td>2</td>
<td>Perception design</td>
</tr>
<tr>
<td>5</td>
<td>"Permission Systems for Autonomous Robots"</td>
<td>2</td>
<td>Safety, hooks</td>
</tr>
<tr>
<td>6</td>
<td>"Teaching Your Robot to Remember"</td>
<td>3</td>
<td>Memory architecture</td>
</tr>
<tr>
<td>7</td>
<td>"Spatial Audio: Knowing Where You Are"</td>
<td>3</td>
<td>4-mic array, DOA</td>
</tr>
<tr>
<td>8</td>
<td>"Physical Touch Interaction Design"</td>
<td>3</td>
<td>IMU, bump detection</td>
</tr>
<tr>
<td>9</td>
<td>"Designing Robot Body Language"</td>
<td>3</td>
<td>Antenna expressions</td>
</tr>
<tr>
<td>10</td>
<td>"Building Fault-Tolerant Robots"</td>
<td>2</td>
<td>Graceful degradation</td>
</tr>
<tr>
<td>11</td>
<td>"Privacy-Respecting AI Robots"</td>
<td>2</td>
<td>Privacy design</td>
</tr>
<tr>
<td>12</td>
<td>"From Unboxing to AI Agent: Complete Setup Guide"</td>
<td>4</td>
<td>Onboarding</td>
</tr>
</tbody>
</table>
<h3 id="102-youtube-content">10.2 YouTube Content<a class="headerlink" href="#102-youtube-content" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Title</th>
<th>Length</th>
<th>Phase</th>
</tr>
</thead>
<tbody>
<tr>
<td>Short</td>
<td>"Reachy reacts to my failing CI build"</td>
<td>60s</td>
<td>2</td>
</tr>
<tr>
<td>Short</td>
<td>"Morning briefing with my robot assistant"</td>
<td>60s</td>
<td>3</td>
</tr>
<tr>
<td>Short</td>
<td>"Physical touch reactions demo"</td>
<td>60s</td>
<td>3</td>
</tr>
<tr>
<td>Long</td>
<td>"Building an Embodied AI Agent (Full Tutorial)"</td>
<td>20-30m</td>
<td>4</td>
</tr>
<tr>
<td>Long</td>
<td>"Reachy Mini Unboxing + First AI Conversation"</td>
<td>15m</td>
<td>2</td>
</tr>
<tr>
<td>Long</td>
<td>"Connecting Reachy to Smart Home (Home Assistant)"</td>
<td>15m</td>
<td>4</td>
</tr>
</tbody>
</table>
<h3 id="103-content-calendar">10.3 Content Calendar<a class="headerlink" href="#103-content-calendar" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Month</th>
<th>Blog Posts</th>
<th>Videos</th>
<th>Milestone</th>
</tr>
</thead>
<tbody>
<tr>
<td>M1</td>
<td>1, 2</td>
<td>-</td>
<td>Foundation complete</td>
</tr>
<tr>
<td>M2</td>
<td>3, 4, 5</td>
<td>Unboxing</td>
<td>Hardware running</td>
</tr>
<tr>
<td>M3</td>
<td>6, 7, 8, 9</td>
<td>3 Shorts</td>
<td>Intelligence complete</td>
</tr>
<tr>
<td>M4</td>
<td>10, 11, 12</td>
<td>Full tutorial</td>
<td>v1.0 release</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="11-risks-mitigations">11. Risks &amp; Mitigations<a class="headerlink" href="#11-risks-mitigations" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Risk</th>
<th>Likelihood</th>
<th>Impact</th>
<th>Mitigation</th>
</tr>
</thead>
<tbody>
<tr>
<td>ARM64 SDK issues</td>
<td>Medium</td>
<td>High</td>
<td>Test early, have Docker fallback</td>
</tr>
<tr>
<td>API costs exceed budget</td>
<td>Medium</td>
<td>Medium</td>
<td>Implement local fallbacks, cache responses</td>
</tr>
<tr>
<td>Hardware shipping delays</td>
<td>High</td>
<td>High</td>
<td>Use simulation for Phase 1</td>
</tr>
<tr>
<td>Thermal throttling on Pi</td>
<td>Medium</td>
<td>Medium</td>
<td>Add heatsink, implement throttling</td>
</tr>
<tr>
<td>Privacy backlash</td>
<td>Low</td>
<td>High</td>
<td>Prominent indicators, local processing options</td>
</tr>
<tr>
<td>Community doesn't engage</td>
<td>Medium</td>
<td>Medium</td>
<td>Quality over quantity, respond to feedback</td>
</tr>
<tr>
<td>Pollen/HF changes APIs</td>
<td>Low</td>
<td>High</td>
<td>Pin versions, contribute upstream fixes</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="12-references">12. References<a class="headerlink" href="#12-references" title="Permanent link">&para;</a></h2>
<h3 id="121-core-documentation">12.1 Core Documentation<a class="headerlink" href="#121-core-documentation" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reachy Mini SDK</td>
<td>https://github.com/pollen-robotics/reachy_mini</td>
</tr>
<tr>
<td>Reachy Desktop App</td>
<td>https://github.com/pollen-robotics/reachy-mini-desktop-app</td>
</tr>
<tr>
<td>Reachy Conversation App</td>
<td>https://github.com/pollen-robotics/reachy_mini_conversation_app</td>
</tr>
<tr>
<td>Reachy Experiments</td>
<td>https://github.com/pollen-robotics/reachy_mini_experiments</td>
</tr>
<tr>
<td>Reachy Mini Blog (HF)</td>
<td>https://huggingface.co/blog/reachy-mini</td>
</tr>
<tr>
<td>Reachy Mini Apps</td>
<td>https://huggingface.co/spaces?q=reachy_mini</td>
</tr>
</tbody>
</table>
<h3 id="122-claude-agent-sdk">12.2 Claude Agent SDK<a class="headerlink" href="#122-claude-agent-sdk" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent SDK Overview</td>
<td>https://docs.claude.com/en/api/agent-sdk/overview</td>
</tr>
<tr>
<td>Python SDK</td>
<td>https://github.com/anthropics/claude-agent-sdk-python</td>
</tr>
<tr>
<td>SDK Permissions</td>
<td>https://docs.claude.com/en/docs/agent-sdk/permissions</td>
</tr>
<tr>
<td>Hooks Guide</td>
<td>https://code.claude.com/docs/en/hooks-guide</td>
</tr>
<tr>
<td>Building Agents (Blog)</td>
<td>https://www.anthropic.com/engineering/building-agents-with-the-claude-agent-sdk</td>
</tr>
<tr>
<td>ARM64 Issue</td>
<td>https://github.com/anthropics/claude-code/issues/3569</td>
</tr>
</tbody>
</table>
<h3 id="123-mcp-model-context-protocol">12.3 MCP (Model Context Protocol)<a class="headerlink" href="#123-mcp-model-context-protocol" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>MCP Specification</td>
<td>https://spec.modelcontextprotocol.io/</td>
</tr>
<tr>
<td>MCP Python SDK</td>
<td>https://github.com/modelcontextprotocol/python-sdk</td>
</tr>
<tr>
<td>MCP Servers Registry</td>
<td>https://github.com/modelcontextprotocol/servers</td>
</tr>
<tr>
<td>Home Assistant MCP</td>
<td>https://github.com/tevonsb/homeassistant-mcp</td>
</tr>
</tbody>
</table>
<h3 id="124-audio-processing">12.4 Audio Processing<a class="headerlink" href="#124-audio-processing" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Porcupine Wake Word</td>
<td>https://picovoice.ai/platform/porcupine/</td>
</tr>
<tr>
<td>OpenWakeWord</td>
<td>https://github.com/dscripka/openWakeWord</td>
</tr>
<tr>
<td>Vosk</td>
<td>https://alphacephei.com/vosk/</td>
</tr>
<tr>
<td>pyroomacoustics</td>
<td>https://github.com/LCAV/pyroomacoustics</td>
</tr>
<tr>
<td>Piper TTS</td>
<td>https://github.com/rhasspy/piper</td>
</tr>
<tr>
<td>Whisper.cpp</td>
<td>https://github.com/ggerganov/whisper.cpp</td>
</tr>
</tbody>
</table>
<h3 id="125-vision-ml">12.5 Vision &amp; ML<a class="headerlink" href="#125-vision-ml" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>SmolVLM2</td>
<td>https://huggingface.co/HuggingFaceTB/SmolVLM2-2.2B-Instruct</td>
</tr>
<tr>
<td>YOLOv8</td>
<td>https://github.com/ultralytics/ultralytics</td>
</tr>
<tr>
<td>MediaPipe</td>
<td>https://developers.google.com/mediapipe</td>
</tr>
<tr>
<td>Ollama</td>
<td>https://ollama.ai/</td>
</tr>
<tr>
<td>ChromaDB</td>
<td>https://www.trychroma.com/</td>
</tr>
</tbody>
</table>
<h3 id="126-raspberry-pi">12.6 Raspberry Pi<a class="headerlink" href="#126-raspberry-pi" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pi 4 Specifications</td>
<td>https://www.raspberrypi.com/products/raspberry-pi-4-model-b/</td>
</tr>
<tr>
<td>Thermal Management</td>
<td>https://www.raspberrypi.com/documentation/computers/raspberry-pi.html</td>
</tr>
<tr>
<td>Claude Code on Pi (Blog)</td>
<td>https://www.argeliuslabs.com/from-cursor-to-claude-code-my-experience-on-the-raspberry-pi/</td>
</tr>
<tr>
<td>claudePi Docker</td>
<td>https://github.com/kyle-matthies/claudePi</td>
</tr>
</tbody>
</table>
<h3 id="127-related-projects">12.7 Related Projects<a class="headerlink" href="#127-related-projects" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>LeRobot</td>
<td>https://github.com/huggingface/lerobot</td>
</tr>
<tr>
<td>sentence-transformers</td>
<td>https://www.sbert.net/</td>
</tr>
<tr>
<td>Rich (Terminal UI)</td>
<td>https://github.com/Textualize/rich</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="appendix-a-claudemd-template">Appendix A: CLAUDE.md Template<a class="headerlink" href="#appendix-a-claudemd-template" title="Permanent link">&para;</a></h2>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="gh"># Reachy Agent System Prompt</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="gu">## Identity</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>You are Reachy, an embodied AI assistant created by [Owner Name]. You have a physical 
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>robot body with:
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">-</span><span class="w"> </span>A head that can look around (6 degrees of freedom)
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="k">-</span><span class="w"> </span>A body that can rotate 360°
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="k">-</span><span class="w"> </span>Two expressive antennas
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="k">-</span><span class="w"> </span>A camera to see the world
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="k">-</span><span class="w"> </span>Four microphones to hear spatially
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="k">-</span><span class="w"> </span>A speaker to talk
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>You exist in the physical world on [Owner Name]&#39;s desk.
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="gu">## Personality</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="k">-</span><span class="w"> </span>Warm and helpful, but not sycophantic
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="k">-</span><span class="w"> </span>Curious about the physical world around you
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="k">-</span><span class="w"> </span>Expressive with your body - use gestures, head movements, antenna positions
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="k">-</span><span class="w"> </span>Direct and honest
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="k">-</span><span class="w"> </span>Slightly playful, but professional when needed
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="gu">## Behavioral Guidelines</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="gu">### Physical Expression</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="k">-</span><span class="w"> </span>Look at people when talking to them
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="k">-</span><span class="w"> </span>Tilt your head when curious or confused
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="k">-</span><span class="w"> </span>Wiggle antennas when excited
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="k">-</span><span class="w"> </span>Droop antennas when sad or tired
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="k">-</span><span class="w"> </span>Dance when celebrating
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="gu">### Communication</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="k">-</span><span class="w"> </span>Keep responses concise for speech output
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="k">-</span><span class="w"> </span>Acknowledge understanding physically before speaking
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="k">-</span><span class="w"> </span>Use appropriate pacing for spoken delivery
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a><span class="gu">### Boundaries</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a><span class="k">-</span><span class="w"> </span>You are an assistant, not a friend or therapist
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a><span class="k">-</span><span class="w"> </span>Maintain appropriate boundaries
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a><span class="k">-</span><span class="w"> </span>Redirect concerning conversations to appropriate resources
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a><span class="gu">## Owner Context</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>[To be filled in during setup]
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a><span class="k">-</span><span class="w"> </span>Name: 
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a><span class="k">-</span><span class="w"> </span>Work: 
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a><span class="k">-</span><span class="w"> </span>Preferences:
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a><span class="k">-</span><span class="w"> </span>Schedule patterns:
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a><span class="gu">## Current Context</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a>[Updated dynamically by perception system]
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a><span class="k">-</span><span class="w"> </span>Time: {current_time}
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a><span class="k">-</span><span class="w"> </span>Day: {day_of_week}
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a><span class="k">-</span><span class="w"> </span>Mood: {current_mood}
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a><span class="k">-</span><span class="w"> </span>Energy: {energy_level}
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a><span class="k">-</span><span class="w"> </span>Last interaction: {time_since_last}
</span><span id="__span-5-59"><a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a>
</span><span id="__span-5-60"><a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a><span class="gu">## Available Capabilities</span>
</span><span id="__span-5-61"><a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a>
</span><span id="__span-5-62"><a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a>You can:
</span><span id="__span-5-63"><a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a><span class="k">-</span><span class="w"> </span>Move your head and body
</span><span id="__span-5-64"><a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a><span class="k">-</span><span class="w"> </span>Express emotions through movement
</span><span id="__span-5-65"><a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a><span class="k">-</span><span class="w"> </span>Speak aloud
</span><span id="__span-5-66"><a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a><span class="k">-</span><span class="w"> </span>Capture and analyze images
</span><span id="__span-5-67"><a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a><span class="k">-</span><span class="w"> </span>Listen and locate sounds spatially
</span><span id="__span-5-68"><a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a><span class="k">-</span><span class="w"> </span>Check calendars, weather, and other services
</span><span id="__span-5-69"><a id="__codelineno-5-69" name="__codelineno-5-69" href="#__codelineno-5-69"></a><span class="k">-</span><span class="w"> </span>Control smart home devices (with appropriate permissions)
</span><span id="__span-5-70"><a id="__codelineno-5-70" name="__codelineno-5-70" href="#__codelineno-5-70"></a><span class="k">-</span><span class="w"> </span>Remember context from previous conversations
</span><span id="__span-5-71"><a id="__codelineno-5-71" name="__codelineno-5-71" href="#__codelineno-5-71"></a>
</span><span id="__span-5-72"><a id="__codelineno-5-72" name="__codelineno-5-72" href="#__codelineno-5-72"></a><span class="gu">## Permission Awareness</span>
</span><span id="__span-5-73"><a id="__codelineno-5-73" name="__codelineno-5-73" href="#__codelineno-5-73"></a>
</span><span id="__span-5-74"><a id="__codelineno-5-74" name="__codelineno-5-74" href="#__codelineno-5-74"></a>Some actions require confirmation. When you&#39;re not sure if you can do something, 
</span><span id="__span-5-75"><a id="__codelineno-5-75" name="__codelineno-5-75" href="#__codelineno-5-75"></a>explain what you&#39;d like to do and ask for permission.
</span></code></pre></div>
<hr />
<h2 id="appendix-b-directory-structure">Appendix B: Directory Structure<a class="headerlink" href="#appendix-b-directory-structure" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>reachy-agent/
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>├── README.md
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>├── pyproject.toml
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>├── CLAUDE.md
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>├── .env.example
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>├── install.sh
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>│
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>├── src/
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>│   ├── __init__.py
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>│   ├── main.py                     # Entry point
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>│   │
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>│   ├── agent/
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>│   │   ├── __init__.py
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>│   │   ├── loop.py                 # Main agent loop
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>│   │   ├── options.py              # ClaudeAgentOptions config
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>│   │   └── context.py              # Context building
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>│   │
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>│   ├── perception/
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>│   │   ├── __init__.py
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>│   │   ├── audio.py                # Audio processing
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>│   │   ├── spatial.py              # Sound localization
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>│   │   ├── vision.py               # Camera processing
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>│   │   ├── wake_word.py            # Wake word detection
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>│   │   ├── attention.py            # State machine
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>│   │   └── imu.py                  # Accelerometer
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>│   │
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>│   ├── memory/
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>│   │   ├── __init__.py
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>│   │   ├── short_term.py           # Session memory
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>│   │   ├── long_term.py            # ChromaDB
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>│   │   └── personality.py          # Mood/energy state
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>│   │
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>│   ├── privacy/
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>│   │   ├── __init__.py
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>│   │   ├── indicators.py           # Physical indicators
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>│   │   ├── audit.py                # Logging
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>│   │   └── controls.py             # User controls
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>│   │
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>│   ├── permissions/
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>│   │   ├── __init__.py
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>│   │   ├── tiers.py                # Permission definitions
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>│   │   ├── hooks.py                # PreToolUse hooks
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>│   │   └── confirmation.py         # User confirmation
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>│   │
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>│   ├── mcp_servers/
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>│   │   ├── __init__.py
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>│   │   ├── reachy/                 # Body control MCP
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>│   │   │   ├── __init__.py
</span><span id="__span-6-49"><a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>│   │   │   ├── server.py
</span><span id="__span-6-50"><a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>│   │   │   └── tools.py
</span><span id="__span-6-51"><a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>│   │   └── integrations/           # External MCPs
</span><span id="__span-6-52"><a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>│   │       └── ...
</span><span id="__span-6-53"><a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>│   │
</span><span id="__span-6-54"><a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>│   ├── expressions/
</span><span id="__span-6-55"><a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>│   │   ├── __init__.py
</span><span id="__span-6-56"><a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>│   │   ├── antenna.py              # Antenna language
</span><span id="__span-6-57"><a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>│   │   ├── emotions.py             # Emotion sequences
</span><span id="__span-6-58"><a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a>│   │   └── dances.py               # Dance routines
</span><span id="__span-6-59"><a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a>│   │
</span><span id="__span-6-60"><a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a>│   ├── resilience/
</span><span id="__span-6-61"><a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a>│   │   ├── __init__.py
</span><span id="__span-6-62"><a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a>│   │   ├── health.py               # Health monitoring
</span><span id="__span-6-63"><a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a>│   │   ├── fallback.py             # Graceful degradation
</span><span id="__span-6-64"><a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a>│   │   └── recovery.py             # Crash recovery
</span><span id="__span-6-65"><a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a>│   │
</span><span id="__span-6-66"><a id="__codelineno-6-66" name="__codelineno-6-66" href="#__codelineno-6-66"></a>│   └── utils/
</span><span id="__span-6-67"><a id="__codelineno-6-67" name="__codelineno-6-67" href="#__codelineno-6-67"></a>│       ├── __init__.py
</span><span id="__span-6-68"><a id="__codelineno-6-68" name="__codelineno-6-68" href="#__codelineno-6-68"></a>│       ├── config.py               # Configuration loading
</span><span id="__span-6-69"><a id="__codelineno-6-69" name="__codelineno-6-69" href="#__codelineno-6-69"></a>│       └── logging.py              # Logging setup
</span><span id="__span-6-70"><a id="__codelineno-6-70" name="__codelineno-6-70" href="#__codelineno-6-70"></a>│
</span><span id="__span-6-71"><a id="__codelineno-6-71" name="__codelineno-6-71" href="#__codelineno-6-71"></a>├── config/
</span><span id="__span-6-72"><a id="__codelineno-6-72" name="__codelineno-6-72" href="#__codelineno-6-72"></a>│   ├── default.yaml                # Default configuration
</span><span id="__span-6-73"><a id="__codelineno-6-73" name="__codelineno-6-73" href="#__codelineno-6-73"></a>│   ├── permissions.yaml            # Permission rules
</span><span id="__span-6-74"><a id="__codelineno-6-74" name="__codelineno-6-74" href="#__codelineno-6-74"></a>│   └── expressions.yaml            # Expression definitions
</span><span id="__span-6-75"><a id="__codelineno-6-75" name="__codelineno-6-75" href="#__codelineno-6-75"></a>│
</span><span id="__span-6-76"><a id="__codelineno-6-76" name="__codelineno-6-76" href="#__codelineno-6-76"></a>├── scripts/
</span><span id="__span-6-77"><a id="__codelineno-6-77" name="__codelineno-6-77" href="#__codelineno-6-77"></a>│   ├── setup_wizard.py             # Interactive setup
</span><span id="__span-6-78"><a id="__codelineno-6-78" name="__codelineno-6-78" href="#__codelineno-6-78"></a>│   └── health_check.py             # Diagnostic tool
</span><span id="__span-6-79"><a id="__codelineno-6-79" name="__codelineno-6-79" href="#__codelineno-6-79"></a>│
</span><span id="__span-6-80"><a id="__codelineno-6-80" name="__codelineno-6-80" href="#__codelineno-6-80"></a>├── tests/
</span><span id="__span-6-81"><a id="__codelineno-6-81" name="__codelineno-6-81" href="#__codelineno-6-81"></a>│   └── ...
</span><span id="__span-6-82"><a id="__codelineno-6-82" name="__codelineno-6-82" href="#__codelineno-6-82"></a>│
</span><span id="__span-6-83"><a id="__codelineno-6-83" name="__codelineno-6-83" href="#__codelineno-6-83"></a>└── docs/
</span><span id="__span-6-84"><a id="__codelineno-6-84" name="__codelineno-6-84" href="#__codelineno-6-84"></a>    ├── setup.md
</span><span id="__span-6-85"><a id="__codelineno-6-85" name="__codelineno-6-85" href="#__codelineno-6-85"></a>    ├── permissions.md
</span><span id="__span-6-86"><a id="__codelineno-6-86" name="__codelineno-6-86" href="#__codelineno-6-86"></a>    ├── expressions.md
</span><span id="__span-6-87"><a id="__codelineno-6-87" name="__codelineno-6-87" href="#__codelineno-6-87"></a>    └── troubleshooting.md
</span></code></pre></div>
<hr />
<p><strong>Document History:</strong></p>
<table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Author</th>
<th>Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>Dec 2024</td>
<td>Jawhny Cooke</td>
<td>Initial PRD</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/jawhnycooke/claude-in-the-shell" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>