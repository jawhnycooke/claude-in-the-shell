# Reachy Agent Configuration
# Copy to ~/.reachy/config.yaml and customize

version: "1.0"

agent:
  name: Reachy
  wake_word: hey reachy
  model: claude-sonnet-4-5-20250929
  max_tokens: 1024

perception:
  wake_word_engine: openwakeword
  wake_word_sensitivity: 0.5
  spatial_audio_enabled: true
  vision_enabled: true
  face_detection_enabled: true

memory:
  chroma_path: ~/.reachy/memory/chroma
  sqlite_path: ~/.reachy/memory/reachy.db
  embedding_model: all-MiniLM-L6-v2
  max_memories: 10000
  retention_days: 90

attention:
  passive_to_alert_motion_threshold: 0.3
  alert_to_passive_timeout_minutes: 5
  engaged_to_alert_silence_seconds: 30

resilience:
  thermal_threshold_celsius: 80.0
  api_timeout_seconds: 30.0
  max_retries: 3
  offline_llm_model: llama3.2:3b

privacy:
  audit_logging_enabled: true
  audit_retention_days: 7
  store_audio: false
  store_images: false

# Idle behavior - autonomous movements when not engaged
idle_behavior:
  enabled: true
  min_look_interval: 3.0      # Minimum seconds between look movements
  max_look_interval: 8.0      # Maximum seconds between look movements
  movement_duration: 1.5      # How long each look movement takes
  yaw_range: [-35, 35]        # Left/right range in degrees
  pitch_range: [-15, 20]      # Down/up range in degrees
  roll_range: [-8, 8]         # Tilt range (subtle)
  curiosity_chance: 0.15      # Probability to show curiosity emotion
  double_look_chance: 0.10    # Probability to look at same spot twice
  return_to_neutral_chance: 0.25  # Probability to return to center
  curiosity_intensity: 0.6    # Intensity of curiosity expressions
  curiosity_emotions:         # Emotions to use for curiosity
    - curious
    - thinking
    - recognition
  pause_on_interaction: true  # Pause when user is interacting
  interaction_cooldown: 2.0   # Seconds to wait after interaction ends

# Motion blending - orchestrates all motion sources
motion_blend:
  enabled: true
  tick_rate_hz: 100.0        # Internal control loop rate
  command_rate_hz: 20.0      # Rate to send commands to daemon
  smoothing_factor: 0.3      # Pose interpolation factor (0.0-1.0)
  pose_limits:
    pitch_range: [-45, 45]   # Pitch safety limits in degrees
    yaw_range: [-45, 45]     # Yaw safety limits in degrees
    roll_range: [-30, 30]    # Roll safety limits in degrees
    z_range: [-50, 50]       # Vertical offset limits in mm
    antenna_range: [0, 90]   # Antenna position limits in degrees

# Breathing behavior - subtle idle animation
breathing:
  enabled: true
  z_amplitude_mm: 5.0        # Vertical body oscillation amplitude
  z_frequency_hz: 0.1        # 6 second breathing cycle
  antenna_amplitude_deg: 15.0  # Antenna sway amplitude
  antenna_frequency_hz: 0.5  # 2 second antenna cycle
  antenna_base_angle: 45.0   # Neutral antenna position
  pitch_amplitude_deg: 1.5   # Subtle head pitch
  pitch_frequency_hz: 0.12   # Slightly offset from Z for organic feel
  yaw_amplitude_deg: 0.8     # Very subtle yaw drift
  yaw_frequency_hz: 0.07     # Very slow drift

# Head wobble - speech-reactive animation for TTS
wobble:
  enabled: true
  max_pitch_deg: 8.0         # Maximum pitch displacement during speech
  max_yaw_deg: 6.0           # Maximum yaw displacement
  max_roll_deg: 4.0          # Maximum roll displacement
  latency_compensation_ms: 80.0  # Audio processing latency
  smoothing_factor: 0.3      # Smoothing for transitions
  noise_scale: 0.2           # Perlin-like noise overlay scale

integrations:
  home_assistant:
    enabled: false
    url: null
    token_env_var: HA_TOKEN

  google_calendar:
    enabled: false
    credentials_path: null

  github:
    enabled: false
    token_env_var: GITHUB_TOKEN
    repos: []
